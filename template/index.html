<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Translations.Title}}</title>
    <link rel="stylesheet" href="/static/index.css?v1.0">
</head>
<body>
    <!-- Header section -->
    <header>
        <h1>{{.Translations.Title}}</h1>
        <p>{{.Translations.Description}}</p>
        
        <!-- Menu de sélection de langue avec des drapeaux -->
        <form action="/" method="get">
            <label for="lang">Choisir la langue:</label>
            <select name="lang" id="lang" onchange="this.form.submit()">
                <option value="fr" {{if eq .Translations.Language "fr"}}selected{{end}}>
                    <img src="/static/flags/fr.png" alt="Français" class="flag"> Français
                </option>
                <option value="en" {{if eq .Translations.Language "en"}}selected{{end}}>
                    <img src="/static/flags/en.png" alt="English" class="flag"> English 
                </option>
            </select>
        </form>
    </header>

    <!-- Main content section -->
    <main>
        <h2>{{.Translations.WineListTitle}}</h2>
        <ul>
            {{range .Vins}} <!-- Cette boucle parcourt la liste des vins -->
                <li>
                    <h3>{{.Title}}</h3>
                    <p><strong>{{$.Translations.Description}}:</strong> {{.Description}}</p> <!-- Access Translations separately -->
                    <p><strong>{{$.Translations.Prices}}:</strong> {{.Price}} €</p>
                    <p><strong>{{$.Translations.Variety}}:</strong> {{.Variety}}</p>
                    <p><strong>{{$.Translations.Region}}:</strong> {{.Region1}}, {{.Province}}, {{.Country}}</p>
                    {{if .TasterName}}
                        <p><strong>{{$.Translations.Taster}}:</strong> {{.TasterName}}</p>
                    {{end}}
                    {{if .TasterTwitter}}
                        <p><strong>{{$.Translations.Twitter}}:</strong> <a href="https://twitter.com/{{.TasterTwitter}}" target="_blank">{{.TasterTwitter}}</a></p>
                    {{end}}
                    {{if .Winery}}
                        <p><strong>{{$.Translations.Winery}}:</strong> {{.Winery}}</p>
                    {{end}}
                    <hr>
                </li>
            {{else}}
                <p>Aucun vin à afficher.</p>
            {{end}}
        </ul>
    </main>

    <!-- Footer section -->
    <footer>
        <p>&copy; 2025 La Cité du Vin - Tous droits réservés</p>
        <p><a href="https://www.laciteduvin.com" target="_blank">Visitez notre site</a></p>
    </footer>
</body>
</html>
