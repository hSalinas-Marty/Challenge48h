<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les Vins de Bordeaux</title>
    <link rel="stylesheet" href="/static/index.css">
</head>

<body>
    <header>
        <div class="container">
            <h1 class="logo">Les Vins de Bordeaux</h1>
            <nav>
                <ul>
                    <li><a href="#">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="search-bar">
        <div class="container">
            <input type="text" id="search" placeholder="Recherchez un vin..." oninput="filterVins()">
            <select id="category" onchange="filterVins()">
                <option value="">Toutes les catégories</option>
                <option value="variety">Par variété</option>
                <option value="region">Par région</option>
                <option value="price">Par prix</option>
            </select>
        </div>
    </section>

    <section class="wine-selection">
        <div class="container">
            <h2 id="vin-du-moment">Les Vins du Moment</h2>
            <div class="wine-list" id="wine-list">
                <!-- Les vins du moment seront ici -->
                {{range .VinsDuMoment}}
                <div class="wine-item">
                    <a href="/vin/{{.ID}}">
                        <img src="{{.ImageURL}}" alt="{{.Title}}">
                        <h3>{{.Title}}</h3>
                        <p>{{.Description}}</p>
                        <p><strong>Prix :</strong> {{.Price}} €</p>
                    </a>
                </div>
                {{end}}
            </div>

            <h2 id="coup-de-coeur">Coup de Cœur</h2>
            <div class="wine-list">
                <!-- Les vins coup de cœur seront ici -->
                {{range .CoupDeCoeur}}
                <div class="wine-item">
                    <a href="/vin/{{.ID}}">
                        <img src="{{.ImageURL}}" alt="{{.Title}}">
                        <h3>{{.Title}}</h3>
                        <p>{{.Description}}</p>
                        <p><strong>Prix :</strong> {{.Price}} €</p>
                    </a>
                </div>
                {{end}}
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 Les Vins de Bordeaux. Tous droits réservés.</p>
        </div>
    </footer>

    <script>
        function filterVins() {
            const search = document.getElementById('search').value.toLowerCase();
            const category = document.getElementById('category').value;

            // Appliquer des filtres en fonction du texte de recherche et de la catégorie
            const vins = document.querySelectorAll('.wine-item');
            vins.forEach(vin => {
                const title = vin.querySelector('h3').textContent.toLowerCase();
                const description = vin.querySelector('p').textContent.toLowerCase();

                // Appliquer le filtre sur la base de la recherche
                if (title.includes(search) || description.includes(search)) {
                    vin.style.display = 'block';
                } else {
                    vin.style.display = 'none';
                }

                // Filtrer par catégorie (par exemple, variété, région)
                if (category && vin.dataset[category] !== search) {
                    vin.style.display = 'none';
                }
            });
        }
    </script>
</body>

</html>
